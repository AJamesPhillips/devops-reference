Type: AWS::SecretsManager::Secret
Condition: CreateRDSCluster
Properties:
  Name: ${self:provider.stage}/${self:service}
  Description: RDS Cluster Connection Secret
  GenerateSecretString:
    SecretStringTemplate: '{ "username": "${self:custom.RDS.masterUsername}", "database": "${self:custom.RDS.database}", "protocol": "mongodb" }'
    GenerateStringKey: password
    PasswordLength: 32
    ExcludePunctuation: true
  Tags:
    - Key: Name
      Value: ${self:provider.stage}/RDS
